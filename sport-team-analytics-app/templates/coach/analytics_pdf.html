<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Team Analytics PDF</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { font-size: 0.95rem; }
        h2, h4 { margin-top: 1.5rem; }
        .table th, .table td { vertical-align: middle; }
    </style>
</head>
<body>
<div class="container mt-4">
    <h2>Team Analytics Report</h2>
    {% for stat in team_stats %}
    <div class="mb-4">
        <h4>{{ stat.team.name }}</h4>
        <table class="table table-bordered mb-2">
            <tr><th>Matches Played</th><td>{{ stat.match_count }}</td></tr>
            <tr><th>Total Goals</th><td>{{ stat.total_goals }}</td></tr>
            <tr><th>Avg Goals/Match</th><td>{{ stat.avg_goals }}</td></tr>
            <tr><th>Wins / Draws / Losses</th><td>{{ stat.win_count }} / {{ stat.draw_count }} / {{ stat.loss_count }}</td></tr>
        </table>
        <div class="row">
            <div class="col-md-6">
                <h6>Top Scorers</h6>
                <table class="table table-sm table-striped">
                    <thead><tr><th>Player</th><th>Goals</th></tr></thead>
                    <tbody>
                    {% for p in stat.top_scorers %}
                    <tr><td>{{ p.name }}</td><td>{{ p.goals }}</td></tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-md-6">
                <h6>Assists Leaderboard</h6>
                <table class="table table-sm table-striped">
                    <thead><tr><th>Player</th><th>Assists</th></tr></thead>
                    <tbody>
                    {% for p in stat.top_assists %}
                    <tr><td>{{ p.name }}</td><td>{{ p.assists }}</td></tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <h6>Goals vs. Opponents</h6>
                <table class="table table-sm table-striped">
                    <thead><tr><th>Opponent</th><th>Goals</th></tr></thead>
                    <tbody>
                    {% for o in stat.goals_vs_opponent %}
                    <tr><td>{{ o.opponent }}</td><td>{{ o.goals }}</td></tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-md-6">
                <h6>Goals by Month</h6>
                <table class="table table-sm table-striped">
                    <thead><tr><th>Month</th><th>Goals</th></tr></thead>
                    <tbody>
                    {% for m in stat.goals_by_month %}
                    <tr><td>{{ m.month }}</td><td>{{ m.goals }}</td></tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
</body>
</html> 